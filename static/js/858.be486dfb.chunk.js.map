{"version":3,"file":"static/js/858.be486dfb.chunk.js","mappings":"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","sources":["api/fetchMovieDetails.js","webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","pages/MovieDetailsPage.jsx"],"sourcesContent":["import axios from \"axios\";\nexport const fetchMovieDetails = async id => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzAyNWQ0M2M1NDVhNDYyMjYyNWIwYTEyYjBlOTBiMSIsInN1YiI6IjY1ODZlMmNiNjg4Y2QwNTg1MDg0MWE3MyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.dqtqhsupjJ-uMQuBN6kHOzvbhWQ0lKMjlVN2gMext14'\n    }\n  }\n  try {\n    const respons = await axios(options);\n    return respons;\n  }\n  catch (error) {\n    throw (error);\n  }\n}","// extracted by mini-css-extract-plugin\nexport default {\"genres\":\"MovieDetails_genres__80iSK\",\"wrapper\":\"MovieDetails_wrapper__cJixg\",\"additional\":\"MovieDetails_additional__EaCvI\",\"info\":\"MovieDetails_info__0TKY1\"};","import {useCallback, useEffect, useRef, useState } from \"react\"\nimport { Link, useLocation, useParams } from \"react-router-dom\"\nimport { fetchMovieDetails } from \"api/fetchMovieDetails\"\nimport css from './MovieDetails.module.css'\n\nconst MovieDetails = () => {\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? '/');\n  const [movie, setMovie] = useState({});\n  const [isInfo, setIsinfo] = useState('');\n\n  const getMovie = useCallback(async () => {\n    try {\n      const res = await fetchMovieDetails(movieId)\n      setMovie(res.data);\n    }\n    catch (error) {\n      console.log(error);\n    }\n    finally {\n      setIsinfo(<h1>No iformation</h1>)\n    }\n  }, [movieId]);\n\n  useEffect(() => {\n    getMovie()\n  }, [getMovie]);\n\n  const vote = Math.floor(movie.vote_average * 10);\n  const posterPath = `https://image.tmdb.org/t/p/w300/${movie.poster_path}`\n  return (\n    <div>\n      <div className={css.button}>\n        <Link to={backLink.current}>\n          <button>Go back</button>\n        </Link>\n      </div>\n      {movie.title ?\n        (<div>\n          <div className={css.wrapper}>\n            <div>\n              <img src={posterPath} alt=\"name\" />\n            </div>\n            <div>\n              <h1>{movie.title}</h1>\n              <p>Vote average: {vote}%</p>\n              <h2>Overview</h2>\n              <p>{movie.overview}</p>\n              <h2>Genres</h2>\n              <div className={css.genres}>\n                {(movie.genres ?? []).map((el) => (<p key={el.id}>{el.name}</p>))}</div>\n            </div>\n          </div>\n          <ul className={css.additional}>\n            <p className={css.info}>Additional information</p>\n            <li>\n              <Link to={`/movies/${movie.id}/cast`}>Cast</Link>\n            </li>\n            <li>\n              <Link to={`/movies/${movie.id}/reviews`}>Reviews</Link>\n            </li>\n          </ul>\n        </div>) : (<h1>{isInfo}</h1>)}\n    </div>\n  );\n};\nexport default MovieDetails;"," import  MovieDetails  from \"../components/MovieDetails/MovieDetails\"\nimport { Suspense } from \"react\";\nimport { Outlet } from \"react-router-dom\"\n\nconst MovieDetailsPage = () => {\n  return (\n    <>\n      <MovieDetails />\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  )\n};\nexport default MovieDetailsPage;"],"names":["fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","id","options","respons","_context","prev","next","method","url","concat","params","language","headers","accept","Authorization","axios","sent","abrupt","t0","stop","_x","apply","arguments","_location$state$from","_location$state","_movie$genres","movieId","useParams","location","useLocation","backLink","useRef","state","from","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","isInfo","setIsinfo","getMovie","useCallback","res","data","console","log","_jsx","children","finish","useEffect","vote","Math","floor","vote_average","posterPath","poster_path","_jsxs","className","css","Link","to","current","title","src","alt","overview","genres","map","el","name","_Fragment","MovieDetails","Suspense","fallback","Outlet"],"sourceRoot":""}